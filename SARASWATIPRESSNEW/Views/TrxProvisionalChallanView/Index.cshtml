@model SARASWATIPRESSNEW.Models.InvoiceCumChallan
@{
    ViewBag.Title = "Challan List";
    Layout = "~/Views/Shared/_BdmsLayoutPage.cshtml";
}

<!-- META SECTION -->
@*<script type="text/javascript" src="/resources/js/plugins/bootstrap/bootstrap-select.js"></script>
<script type="text/javascript" src="/resources/js/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" id="theme" href="/resources/css/theme-default.css" />
<link href="~/resources/css/jquery-ui.css" rel="stylesheet" />
<link rel="stylesheet" href="/resources/demos/style.css">
<script src="~/Scripts/jquery-1.12.4.js"></script>
<script src="~/Scripts/jquery-ui.js"></script>*@
<link href="~/resources/css/jquery-ui.css" rel="stylesheet" />
<script src="~/Scripts/jquery-ui.js"></script>
<script src="~/Scripts/AppJs/MainAppJs.js"></script>
<script src="~/Scripts/AppJs/ProbChallanListView.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        LoadDistrictDetails();
        $("#txtStartDate").datepicker({
            dateFormat: 'dd-M-yy'
        }).datepicker('setDate', new Date());

        $("#txtEndDate").datepicker({
            dateFormat: 'dd-M-yy'
        }).datepicker('setDate', new Date());
    });
</script>

<div class="panel-heading">
    <h3 class="panel-title"><strong>Provisional Challan View</strong></h3>
</div>
<div class="panel-body">
    @using (Html.BeginForm("Index", "InvoiceCumChallanReqList", FormMethod.Post, new { @id = "frmInvoiceCumChallanReqList" }))
    {
        <div id="ErrorMsgContainer" style="width: 750px; vertical-align: text-top;"></div>
        <div class="panel-body">
            <div class="panel-body">
                <div class="form-group">
                    <label class="col-md-1 col-xs-6 control-label">@Html.Label("District")</label>
                    <div class="col-md-3 col-xs-12">
                        @Html.DropDownListFor(a => a.DistrictId, new SelectList(Enumerable.Empty<SelectListItem>(), "DistrictID", "District_name"), "Select", new { @id = "ddlDistrict", @style = "width:180px", @class = "form-control select2" })
                    </div>
                    <label class="col-md-1 col-xs-6 control-label">@Html.Label("Circle")</label>
                    <div class="col-md-3 col-xs-12">
                        @Html.DropDownListFor(a => a.CircleId, new SelectList(Enumerable.Empty<SelectListItem>(), "CircleID", "Circle_name"), "Select", new { @id = "ddlCircle", @style = "width:180px", @class = "form-control select2" })
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <label class="col-md-1 col-xs-6 control-label">@Html.Label("From Date")</label>
                    <div class="col-md-3 col-xs-12">
                        @Html.TextBoxFor(a => a.startDate, new { @id = "txtStartDate", @style = "width:180px", @maxlength = "15", @class = "form-control" })
                    </div>
                    <label class="col-md-1 col-xs-6 control-label">@Html.Label("To Date")</label>
                    <div class="col-md-3 col-xs-12">
                        @Html.TextBoxFor(a => a.endDate, new { @id = "txtEndDate", @style = "width:180px", @maxlength = "15", @class = "form-control" })
                    </div>

                </div>
            </div>
            <div class="panel-body">
                <table id="tblBtn" cellpadding="0" cellspacing="0" border="0" style="width: 700px;">
                    <tr>
                        <td>
                            <input type="button" id="btnView" value="View" style="width: 100px" class="btn btn-info btn-block" /></td>
                        <td>
                            <input type="button" id="btnExportToExcel" value="Export To Excel" onclick="ExportToExcel();" style="width: 120px" class="btn btn-info btn-block" /></td>
                        <td><a href="/TrxProvisionalChallan/Index" style="width: 120px;" class="btn btn-mini btn-danger">Add New</a></td>
                    </tr>
                </table>

            </div>

            <div style="width: 100%; height: 42vh; overflow: scroll; margin-top: 0px; border: 2px solid #808080;">
                <table id="tblInvCumChal" cellpadding="0" cellspacing="0" border="1" class="table basic" style="table-layout: fixed; width: 1500px;">
                    <tr>
                        <th style="text-align: left; width: 150px;">Print/Edit</th>
                        <th style="text-align: left; width: 200px;">Challan No.</th>
                        <th style="text-align: center; width: 150px;">Date</th>
                        <th style="text-align: left; width: 200px;">District Name</th>
                        <th style="text-align: left; width: 200px;">Circle Name</th>
                        <th style="text-align: left; width: 200px;">Category</th>
                        <th style="text-align: left; width: 100px;">Language</th>
                        <th style="text-align: left; width: 200px;">Transporter</th>
                        <th style="text-align: left; width: 150px;">Consignee No</th>
                        <th style="text-align: left; width: 150px;">Vehicle No</th>
                        <th style="text-align: left; width: 200px;">Last Updated By</th>
                        <th style="text-align: left; width: 200px;">Last Updated On</th>
                    </tr>
                </table>
            </div>
            <div style="margin-top: 10px;"></div>
            <table width="100%" border="0">
                <tr>
                    <td style="width: 15%;">
                        <button type="button" id="btnSubmit" name="Command" style="width: 120px;" onclick="ConfirmProvisionalChallan();" value="Submit" class="btn btn-mini btn-danger">Confirm</button>
                    </td>
                    <td style="width: 85%;">&nbsp;</td>
                </tr>
            </table>
        </div>
    }
</div>
@if (TempData["AppMessage"] != null)
{
    <script type="text/javascript">
        window.onload = function () {
            alert("@(TempData["AppMessage"] as string)");
        };
    </script>
}
